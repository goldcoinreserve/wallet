{"remainingRequest":"/home/hero/temp/gcr-wallet/node_modules/babel-loader/lib/index.js!/home/hero/temp/gcr-wallet/node_modules/ts-loader/index.js??ref--13-2!/home/hero/temp/gcr-wallet/src/core/validation/CustomValidationRules.ts","dependencies":[{"path":"/home/hero/temp/gcr-wallet/src/core/validation/CustomValidationRules.ts","mtime":1612953106739},{"path":"/home/hero/temp/gcr-wallet/.babelrc","mtime":1612953106663},{"path":"/home/hero/temp/gcr-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/temp/gcr-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hero/temp/gcr-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCi8vIGV4dGVybmFsIGRlcGVuZGVuY2llcwppbXBvcnQgeyBleHRlbmQgfSBmcm9tICd2ZWUtdmFsaWRhdGUnOwppbXBvcnQgaTE4biBmcm9tICdAL2xhbmd1YWdlJzsKaW1wb3J0IHsgQWNjb3VudCwgQWRkcmVzcywgTmV0d29ya1R5cGUsIFBhc3N3b3JkLCBOYW1lc3BhY2VJZCB9IGZyb20gJ3N5bWJvbC1zZGsnOyAvLyBpbnRlcm5hbCBkZXBlbmRlbmNpZXMKCmltcG9ydCB7IFByb2ZpbGVTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9Qcm9maWxlU2VydmljZSc7CmltcG9ydCB7IE5vdGlmaWNhdGlvblR5cGUgfSBmcm9tICdAL2NvcmUvdXRpbHMvTm90aWZpY2F0aW9uVHlwZSc7CmltcG9ydCB7IEFwcFN0b3JlIH0gZnJvbSAnQC9hcHAvQXBwU3RvcmUnOyAvLyBjb25maWd1cmF0aW9uCgppbXBvcnQgeyBuZXR3b3JrQ29uZmlnIH0gZnJvbSAnQC9jb25maWcnOwppbXBvcnQgeyBhcHBDb25maWcgfSBmcm9tICdAL2NvbmZpZyc7CmltcG9ydCB7IEFkZHJlc3NWYWxpZGF0b3IsIEFsaWFzVmFsaWRhdG9yLCBNYXhEZWNpbWFsc1ZhbGlkYXRvciwgUHVibGljS2V5VmFsaWRhdG9yLCBVcmxWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcnMnOwppbXBvcnQgeyBBY2NvdW50U2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvQWNjb3VudFNlcnZpY2UnOyAvLyBUT0RPIEN1c3RvbVZhbGlkYXRpb25SdWxlcyBuZWVkcyB0byBiZSBjcmVhdGVkIHdoZW4gdGhlIG5ldHdvcmsgY29uZmlndXJhdGlvbiBpcyByZXNvbHZlZCwgVUkKLy8gbmVlZHMgdG8gdXNlIHRoZSByZXNvbHZlZCBDdXN0b21WYWxpZGF0aW9uUnVsZXMKLy8gQVRNIHJ1bGVzIGFyZSB1c2luZyB0aGUgaGFyZGNvZGVkIGZpbGUKCnZhciBjdXJyZW50TmV0d29yayA9IG5ldHdvcmtDb25maWcubmV0d29ya0NvbmZpZ3VyYXRpb25EZWZhdWx0czsKdmFyIE1JTl9QQVNTV09SRF9MRU5HVEggPSBhcHBDb25maWcuY29uc3RhbnRzLk1JTl9QQVNTV09SRF9MRU5HVEg7CmV4cG9ydCB2YXIgQ3VzdG9tVmFsaWRhdGlvblJ1bGVzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDdXN0b21WYWxpZGF0aW9uUnVsZXMoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3VzdG9tVmFsaWRhdGlvblJ1bGVzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhDdXN0b21WYWxpZGF0aW9uUnVsZXMsIG51bGwsIFt7CiAgICBrZXk6ICJyZWdpc3RlciIsCiAgICB2YWx1ZToKICAgIC8qKgogICAgICogUmVnaXN0ZXJzIGN1c3RvbSB2YWxpZGF0aW9uIHJ1bGVzCiAgICAgKiBAc3RhdGljCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICBleHRlbmQoJ2FkZHJlc3MnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gQWRkcmVzc1ZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKGZpZWxkTmFtZSwgdmFsdWVzKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGkxOG4udChOb3RpZmljYXRpb25UeXBlLkFERFJFU1NfSU5WQUxJRCwgdmFsdWVzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXh0ZW5kKCdtYXhEZWNpbWFscycsIHsKICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUsIGFyZ3MpIHsKICAgICAgICAgIHZhciBtYXhEZWNpbWFsTnVtYmVyID0gYXJncy5tYXhEZWNpbWFsTnVtYmVyOwogICAgICAgICAgcmV0dXJuIE1heERlY2ltYWxzVmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlLCBtYXhEZWNpbWFsTnVtYmVyKTsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KCdtYXhfZGVjaW1hbF9udW1iZXJfZXJyb3InLCB2YWx1ZXMpKTsKICAgICAgICB9LAogICAgICAgIHBhcmFtczogWydtYXhEZWNpbWFsTnVtYmVyJ10KICAgICAgfSk7CiAgICAgIGV4dGVuZCgnYWRkcmVzc09yQWxpYXMnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICB2YXIgaXNWYWxpZEFkZHJlc3MgPSBBZGRyZXNzVmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlKTsKICAgICAgICAgIHZhciBpc1ZhbGlkQWxpYXMgPSBBbGlhc1ZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSk7CgogICAgICAgICAgaWYgKGlzVmFsaWRBZGRyZXNzKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc1ZhbGlkQWxpYXMpIHsKICAgICAgICAgICAgQXBwU3RvcmUuZGlzcGF0Y2goJ25hbWVzcGFjZS9HRVRfTElOS0VEX0FERFJFU1MnLCBuZXcgTmFtZXNwYWNlSWQodmFsdWUpKS50aGVuKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICB2YWwgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KCdlcnJvcl9pbmNvcnJlY3RfZmllbGQnLCB2YWx1ZXMpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHRlbmQoJ2FkZHJlc3NPckFsaWFzTmV0d29ya1R5cGUnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlLCBhcmdzKSB7CiAgICAgICAgICB2YXIgbmV0d29ya1R5cGUgPSBhcmdzLm5ldHdvcmtUeXBlOwoKICAgICAgICAgIGlmICghQWRkcmVzc1ZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIEFkZHJlc3MuY3JlYXRlRnJvbVJhd0FkZHJlc3ModmFsdWUpLm5ldHdvcmtUeXBlID09IG5ldHdvcmtUeXBlOwogICAgICAgIH0sCiAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZShmaWVsZE5hbWUsIHZhbHVlcykgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChpMThuLnQoTm90aWZpY2F0aW9uVHlwZS5ORVRXT1JLX1RZUEVfSU5WQUxJRCwgdmFsdWVzKSk7CiAgICAgICAgfSwKICAgICAgICBwYXJhbXM6IFsnbmV0d29ya1R5cGUnXQogICAgICB9KTsKICAgICAgZXh0ZW5kKCd1cmwnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gVXJsVmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlKTsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KCdlcnJvcl9pbmNvcnJlY3RfdXJsJywgdmFsdWVzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXh0ZW5kKCdjb25maXJtUGFzc3dvcmQnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlLCBhcmdzKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gYXJncy50YXJnZXQ7CiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRhcmdldDsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KE5vdGlmaWNhdGlvblR5cGUuUEFTU1dPUkRTX05PVF9NQVRDSElORywgdmFsdWVzKSk7CiAgICAgICAgfSwKICAgICAgICBwYXJhbXM6IFsndGFyZ2V0J10KICAgICAgfSk7CiAgICAgIGV4dGVuZCgnbmV3QWNjb3VudE5hbWUnLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICB2YXIgY3VycmVudFByb2ZpbGUgPSBuZXcgUHJvZmlsZVNlcnZpY2UoKS5nZXRQcm9maWxlQnlOYW1lKHZhbHVlKTsKICAgICAgICAgIHJldHVybiAhKGN1cnJlbnRQcm9maWxlICYmIGN1cnJlbnRQcm9maWxlLmFjY291bnRzLmxlbmd0aCA+IDApOwogICAgICAgIH0sCiAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZShmaWVsZE5hbWUsIHZhbHVlcykgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChpMThuLnQoTm90aWZpY2F0aW9uVHlwZS5QUk9GSUxFX05BTUVfRVhJU1RTX0VSUk9SLCB2YWx1ZXMpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHRlbmQoJ3Byb2ZpbGVQYXNzd29yZCcsIHsKICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHsKICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoIDwgOCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGN1cnJlbnRQcm9maWxlID0gQXBwU3RvcmUuZ2V0dGVyc1sncHJvZmlsZS9jdXJyZW50UHJvZmlsZSddOwogICAgICAgICAgdmFyIGN1cnJlbnRIYXNoID0gY3VycmVudFByb2ZpbGUucGFzc3dvcmQ7CiAgICAgICAgICB2YXIgaW5wdXRIYXNoID0gUHJvZmlsZVNlcnZpY2UuZ2V0UGFzc3dvcmRIYXNoKG5ldyBQYXNzd29yZCh2YWx1ZSkpOwogICAgICAgICAgcmV0dXJuIGlucHV0SGFzaCA9PT0gY3VycmVudEhhc2g7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKGZpZWxkTmFtZSwgdmFsdWVzKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGkxOG4udChOb3RpZmljYXRpb25UeXBlLldST05HX1BBU1NXT1JEX0VSUk9SLCB2YWx1ZXMpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHRlbmQoJ3Byb2ZpbGVBY2NvdW50TmFtZScsIHsKICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHsKICAgICAgICAgIHZhciBhY2NvdW50U2VydmljZSA9IG5ldyBBY2NvdW50U2VydmljZSgpOyAvLyAtIGZldGNoIGN1cnJlbnQgcHJvZmlsZSBhY2NvdW50cwoKICAgICAgICAgIHZhciBjdXJyZW50UHJvZmlsZSA9IEFwcFN0b3JlLmdldHRlcnNbJ3Byb2ZpbGUvY3VycmVudFByb2ZpbGUnXTsKICAgICAgICAgIHZhciBrbm93bkFjY291bnRzID0gT2JqZWN0LnZhbHVlcyhhY2NvdW50U2VydmljZS5nZXRLbm93bkFjY291bnRzKGN1cnJlbnRQcm9maWxlLmFjY291bnRzKSk7CiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkID09PSBrbm93bkFjY291bnRzLmZpbmQoZnVuY3Rpb24gKHcpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB3Lm5hbWU7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KE5vdGlmaWNhdGlvblR5cGUuRVJST1JfQUNDT1VOVF9OQU1FX0FMUkVBRFlfRVhJU1RTLCB2YWx1ZXMpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHRlbmQoJ3ByaXZhdGVLZXknLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBBY2NvdW50LmNyZWF0ZUZyb21Qcml2YXRlS2V5KHZhbHVlLCBOZXR3b3JrVHlwZS5NSUpJTl9URVNUKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KE5vdGlmaWNhdGlvblR5cGUuUFJPRklMRV9OQU1FX0VYSVNUU19FUlJPUiwgdmFsdWVzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXh0ZW5kKCdhZGRyZXNzT3JQdWJsaWNLZXknLCB7CiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbHVlKSB7CiAgICAgICAgICB2YXIgaXNWYWxpZEFkZHJlc3MgPSBBZGRyZXNzVmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlKTsKICAgICAgICAgIHZhciBpc1ZhbGlkUHVibGljS2V5ID0gUHVibGljS2V5VmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlKTsKCiAgICAgICAgICBpZiAoaXNWYWxpZEFkZHJlc3MgfHwgaXNWYWxpZFB1YmxpY0tleSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKGZpZWxkTmFtZSwgdmFsdWVzKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGkxOG4udCgnZXJyb3JfaW5jb3JyZWN0X2ZpZWxkJywgdmFsdWVzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXh0ZW5kKCdtYXhOYW1lc3BhY2VEdXJhdGlvbicsIHsKICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSBjdXJyZW50TmV0d29yay5tYXhOYW1lc3BhY2VEdXJhdGlvbjsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoZmllbGROYW1lLCB2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoaTE4bi50KCdlcnJvcl9pbmNvcnJlY3RfZmllbGQnLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHZhbHVlcyksIHsKICAgICAgICAgICAgbWF4VmFsdWU6IGN1cnJlbnROZXR3b3JrLm1heE5hbWVzcGFjZUR1cmF0aW9uCiAgICAgICAgICB9KSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGV4dGVuZCgncGFzc3dvcmRSZWdleCcsIHsKICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHsKICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCIoPz0uKlswLTldKSg/PS4qW2EtekEtWl0pKC57Ii5jb25jYXQoTUlOX1BBU1NXT1JEX0xFTkdUSCwgIix9KSQiKSkudGVzdCh2YWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiAiIi5jb25jYXQoaTE4bi50KCdlcnJvcl9uZXdfcGFzc3dvcmRfZm9ybWF0JykpCiAgICAgIH0pLCBleHRlbmQoJ2luJywgewogICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSwgYXJyYXkpIHsKICAgICAgICAgIGlmICghYXJyYXkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBhcnJheS5pbmNsdWRlcyh2YWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiBtZXNzYWdlKGZpZWxkTmFtZSwgdmFsdWVzKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGkxOG4udCgnZXJyb3Jfbm90X2V4aXN0JywgdmFsdWVzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDdXN0b21WYWxpZGF0aW9uUnVsZXM7Cn0oKTs="},{"version":3,"sources":["/home/hero/temp/gcr-wallet/src/core/validation/CustomValidationRules.ts"],"names":[],"mappings":"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","sourcesContent":["// external dependencies\nimport { extend } from 'vee-validate';\nimport i18n from '@/language';\nimport { Account, Address, NetworkType, Password, NamespaceId } from 'symbol-sdk';\n// internal dependencies\nimport { ProfileService } from '@/services/ProfileService';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { AppStore } from '@/app/AppStore';\n// configuration\nimport { networkConfig } from '@/config';\nimport { appConfig } from '@/config';\nimport { AddressValidator, AliasValidator, MaxDecimalsValidator, PublicKeyValidator, UrlValidator } from './validators';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { AccountService } from '@/services/AccountService';\nimport { NetworkConfigurationModel } from '@/core/database/entities/NetworkConfigurationModel';\nimport { Values } from 'vue-i18n';\n\n// TODO CustomValidationRules needs to be created when the network configuration is resolved, UI\n// needs to use the resolved CustomValidationRules\n// ATM rules are using the hardcoded file\nconst currentNetwork: NetworkConfigurationModel = networkConfig.networkConfigurationDefaults;\nconst { MIN_PASSWORD_LENGTH } = appConfig.constants;\n\nexport class CustomValidationRules {\n    /**\n     * Registers custom validation rules\n     * @static\n     */\n    public static register(): void {\n        extend('address', {\n            validate: (value) => {\n                return AddressValidator.validate(value);\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.ADDRESS_INVALID, values)}`,\n        });\n\n        extend('maxDecimals', {\n            validate: (value, args: any) => {\n                const { maxDecimalNumber } = args;\n                return MaxDecimalsValidator.validate(value, maxDecimalNumber);\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t('max_decimal_number_error', values)}`,\n            params: ['maxDecimalNumber'],\n        });\n\n        extend('addressOrAlias', {\n            validate: (value) => {\n                const isValidAddress = AddressValidator.validate(value);\n                const isValidAlias = AliasValidator.validate(value);\n                if (isValidAddress) {\n                    return true;\n                }\n                if (isValidAlias) {\n                    AppStore.dispatch('namespace/GET_LINKED_ADDRESS', new NamespaceId(value))\n                        .then((val) => {\n                            val ? true : false;\n                        })\n                        .catch(() => {\n                            return false;\n                        });\n                }\n                return false;\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t('error_incorrect_field', values)}`,\n        });\n\n        extend('addressOrAliasNetworkType', {\n            validate: (value, args: any) => {\n                const { networkType } = args;\n                if (!AddressValidator.validate(value)) {\n                    return true;\n                }\n                return Address.createFromRawAddress(value).networkType == networkType;\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.NETWORK_TYPE_INVALID, values)}`,\n            params: ['networkType'],\n        });\n\n        extend('url', {\n            validate: (value) => {\n                return UrlValidator.validate(value);\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t('error_incorrect_url', values)}`,\n        });\n\n        extend('confirmPassword', {\n            validate(value, args: any) {\n                const { target } = args;\n                return value === target;\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.PASSWORDS_NOT_MATCHING, values)}`,\n            params: ['target'],\n        });\n\n        extend('newAccountName', {\n            validate(value) {\n                const currentProfile = new ProfileService().getProfileByName(value);\n                return !(currentProfile && currentProfile.accounts.length > 0);\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.PROFILE_NAME_EXISTS_ERROR, values)}`,\n        });\n\n        extend('profilePassword', {\n            validate(value) {\n                if (!value || value.length < 8) {\n                    return false;\n                }\n\n                const currentProfile: ProfileModel = AppStore.getters['profile/currentProfile'];\n                const currentHash = currentProfile.password;\n                const inputHash = ProfileService.getPasswordHash(new Password(value));\n                return inputHash === currentHash;\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.WRONG_PASSWORD_ERROR, values)}`,\n        });\n\n        extend('profileAccountName', {\n            validate(value) {\n                const accountService = new AccountService();\n\n                // - fetch current profile accounts\n                const currentProfile: ProfileModel = AppStore.getters['profile/currentProfile'];\n                const knownAccounts = Object.values(accountService.getKnownAccounts(currentProfile.accounts));\n                return undefined === knownAccounts.find((w) => value === w.name);\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.ERROR_ACCOUNT_NAME_ALREADY_EXISTS, values)}`,\n        });\n\n        extend('privateKey', {\n            validate(value) {\n                try {\n                    Account.createFromPrivateKey(value, NetworkType.MIJIN_TEST);\n                    return true;\n                } catch (e) {\n                    return false;\n                }\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t(NotificationType.PROFILE_NAME_EXISTS_ERROR, values)}`,\n        });\n\n        extend('addressOrPublicKey', {\n            validate: (value) => {\n                const isValidAddress = AddressValidator.validate(value);\n                const isValidPublicKey = PublicKeyValidator.validate(value);\n                if (isValidAddress || isValidPublicKey) {\n                    return true;\n                }\n                return false;\n            },\n            message: (fieldName: string, values: Values) => `${i18n.t('error_incorrect_field', values)}`,\n        });\n\n        extend('maxNamespaceDuration', {\n            validate: (value) => {\n                return value <= currentNetwork.maxNamespaceDuration;\n            },\n            message: (fieldName: string, values: Values) => {\n                return `${i18n.t('error_incorrect_field', { ...values, maxValue: currentNetwork.maxNamespaceDuration })}`;\n            },\n        });\n\n        extend('passwordRegex', {\n            validate: (value) => {\n                return new RegExp(`(?=.*[0-9])(?=.*[a-zA-Z])(.{${MIN_PASSWORD_LENGTH},})$`).test(value);\n            },\n            message: `${i18n.t('error_new_password_format')}`,\n        }),\n            extend('in', {\n                validate: (value, array: string[]) => {\n                    if (!array) {\n                        return false;\n                    }\n                    return array.includes(value);\n                },\n                message: (fieldName: string, values: Values) => `${i18n.t('error_not_exist', values)}`,\n            });\n    }\n}\n"],"sourceRoot":""}]}